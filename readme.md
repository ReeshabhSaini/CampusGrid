# **Campus Grid**

## **Overview**

Campus Grid is a comprehensive academic management system designed to streamline timetable management, class rescheduling, and holiday updates for universities and colleges. It provides role-specific dashboards for students, professors, and administrators, ensuring tailored access and functionality for each user type.

---

## **Features**

### **Student Dashboard**

- View updated timetables with rescheduled classes.
- Access holiday updates.

### **Professor Dashboard**

- Reschedule future classes with reasons and updated timings.
- View rescheduled classes and updated timetables.

### **Admin Dashboard**

- Upload and manage timetables for all courses and semesters.
- Add and manage holiday entries.

---

## **Technologies Used**

### **Frontend**

- **React** (deployed on Vercel).
- Responsive user interface designed for role-specific dashboards.

### **Backend**

- **Node.js** and **Express** (deployed on Render).
- Integrated with **Supabase** for efficient database operations.

### **Database**

- **PostgreSQL** (hosted on Supabase).

---

## **Key Functionalities**

1. **Timetable Management**

   - Fetch updated timetables dynamically from the backend.
   - Includes lecture hall, professor, and rescheduled class details.

2. **Class Rescheduling**

   - Professors can reschedule future classes with specified reasons and updated timings.

3. **Holiday Management**

   - Admins can add holidays directly through their dashboard.

4. **Authentication and Authorization**
   - Role-based redirection to dashboards for students, professors, and admins.
   - JSON Web Tokens (JWT) for secure login sessions.

---

## **Challenges Faced**

- Managing merge conflicts during team collaboration.
- Learning and integrating new technologies effectively.
- Working with large datasets in a normalized database schema.

---

## **Future Enhancements**

- Attendance management system.
- Grade reporting for students.
- Enhanced caching for faster timetable updates.

---

## **Getting Started**

### Prerequisites

- **Node.js** and **npm** installed.
- Access to a Supabase project with the required database schema.

### Installation

1. Clone the repository:

   ```bash
   git clone https://github.com/your-username/campus-grid.git
   cd campus-grid
   ```

2. Install dependencies for the frontend and backend:

   ```bash
   # Frontend
   cd frontend
   npm install

   # Backend
   cd ../backend
   npm install
   ```

3. Make your own Database on Supabase:

---

## **Database Schema**

### **1. Table: `students`**

```sql
create table
  public.students (
    id bigint generated by default as identity not null,
    first_name character varying null,
    last_name character varying null,
    email character varying null,
    password character varying null,
    student_id character varying null,
    branch character varying null,
    semester bigint null,
    created_at timestamp with time zone not null default now(),
    class_group character varying null,
    tutorial_group character varying null,
    lab_group character varying null,
    constraint users_pkey primary key (id),
    constraint users_email_key unique (email)
  ) tablespace pg_default;
```

### **2. Table: `professors`**

```sql
create table
  public.professors (
    id bigint generated by default as identity not null,
    first_name character varying null,
    last_name character varying null,
    email character varying null,
    password character varying null,
    created_at timestamp with time zone not null default now(),
    department_id bigint null,
    constraint professors_pkey primary key (id),
    constraint professors_email_key unique (email),
    constraint professors_department_id_fkey foreign key (department_id) references departments (id)
  ) tablespace pg_default;
```

### **3. Table: `lecture_halls`**

```sql
create table
  public.lecture_halls (
    id bigint generated by default as identity not null,
    hall_name character varying null,
    constraint Lecture Halls_pkey primary key (id)
  ) tablespace pg_default;
```

### **4. Table: `holidays`**

```sql
create table
  public.holidays (
    id bigint generated by default as identity not null,
    holiday_date date null,
    description character varying null,
    created_at timestamp with time zone not null default now(),
    constraint holidays_pkey primary key (id)
  ) tablespace pg_default;
```

### **5. Table: `courses`**

```sql
create table
  public.courses (
    id bigint generated by default as identity not null,
    course_code character varying null,
    course_name character varying null,
    branch character varying null,
    semester bigint null,
    created_at timestamp with time zone not null default now(),
    constraint courses_pkey primary key (id)
  ) tablespace pg_default;
```

### **6. Table: `time_table`**

```sql
create table
  public.time_table (
    id bigint generated by default as identity not null,
    courses_id bigint null,
    day_of_week character varying null,
    start_time time without time zone null,
    end_time time without time zone null,
    lecture_hall_id bigint null,
    created_at timestamp with time zone not null default now(),
    professor_id bigint null,
    type character varying null,
    "group" character varying null,
    constraint time_table_pkey primary key (id),
    constraint time_table_courses_id_fkey foreign key (courses_id) references courses (id),
    constraint time_table_lecture_hall_id_fkey foreign key (lecture_hall_id) references lecture_halls (id),
    constraint time_table_professor_id_fkey foreign key (professor_id) references professors (id)
  ) tablespace pg_default;
```

### **7. Table: `class_rescheduling`**

```sql
create table
  public.class_rescheduling (
    id bigint generated by default as identity not null,
    course_id bigint null,
    original_date date null,
    rescheduled_date date null,
    reason text null,
    professor_id bigint null,
    created_at timestamp with time zone not null default now(),
    lecture_hall_id bigint null,
    new_start_time time without time zone null,
    type character varying null,
    "group" character varying null,
    original_start_time time without time zone null,
    original_end_time time without time zone null,
    new_end_time time without time zone null,
    constraint class_rescheduling_pkey primary key (id),
    constraint class_rescheduling_course_id_fkey foreign key (course_id) references courses (id),
    constraint class_rescheduling_lecture_hall_id_fkey foreign key (lecture_hall_id) references lecture_halls (id),
    constraint class_rescheduling_professor_id_fkey foreign key (professor_id) references professors (id)
  ) tablespace pg_default;
```

### **8. Table: `admins`**

```sql
create table
  public.admins (
    id bigint generated by default as identity not null,
    first_name character varying null,
    last_name character varying null,
    created_at timestamp with time zone not null default now(),
    email character varying null,
    password character varying null,
    constraint admins_pkey primary key (id)
  ) tablespace pg_default;
```

---

4. Set up environment variables for the backend:

   - Create a `.env` file in the backend directory with the following:

     ```env
     SUPABASE_URL=<Your Supabase URL>
     SUPABASE_KEY=<Your Supabase Key>
     JWT_SECRET=<Your JWT Secret>
     ```

5. Start the development servers:

   ```bash
   # Start frontend
   cd frontend
   npm run dev

   # Start backend
   cd ../backend
   npm run server
   ```

6. Change the URL inside the `StoreContext` file inside the frontend folder:

   - Change `url` to: `http://localhost:4000`

7. Access the application:
   - Frontend: `http://localhost:5173`
   - Backend API: `http://localhost:4000`
